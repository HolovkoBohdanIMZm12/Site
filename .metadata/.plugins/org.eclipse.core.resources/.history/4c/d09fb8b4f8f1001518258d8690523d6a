package com.Sck;

import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.Socket;

public class Implementation 
{
	void ping(Socket socket) throws IOException 
	{
		DataInputStream DinStream = new DataInputStream(socket.getInputStream());
		DataOutputStream dos = new DataOutputStream(socket.getOutputStream());
		
		dos.writeInt(1);
		dos.writeByte(1);
		
		byte array[] = new byte[DinStream.readInt()]; 
		DinStream.readFully(array);
		
		if(array.length == 1 && array[0] == 2) 
			System.out.println("Ping successf");
		else 
			System.out.println("Ping not success!!");
	}
	
	void echo(Socket socket, String str) throws IOException 
	{
		DataInputStream dis = new DataInputStream(socket.getInputStream());
		DataOutputStream dos = new DataOutputStream(socket.getOutputStream());
		byte[] BytesOfString = str.getBytes();
		dos.writeInt(BytesOfString.length+1);
		dos.writeByte(3);
		dos.write(BytesOfString);
		byte[] nbm = new byte[dis.readInt()]; 
		dis.readFully(nbm);
				if(nbm.length > 1) {
		String str_received= new String(nbm, 0, nbm.length);
		System.out.println(str_received);
			}
		else System.out.println("Error "+nbm[0]);
	}
}
